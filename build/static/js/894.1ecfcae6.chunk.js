"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[894],{8894:(e,a,s)=>{s.r(a),s.d(a,{default:()=>r});var l=s(7154),i=s(5043),c=s(6971),d=s(7503),t=s(2989),n=s(579);function r(){const[e,a]=(0,i.useState)({}),{text:s,setText:r}=(0,i.useContext)(t.P),[o,m]=(0,i.useState)(null),[p,h]=(0,i.useState)(!1);(0,c.Zp)();(0,i.useEffect)((()=>{j()}),[]);const x=JSON.parse(localStorage.getItem("data123")),j=async()=>{try{const e=await l.A.post("".concat("https://sisccltd.com/api/","get-profile-admin"),{user_id:x.id});a(e.data.data)}catch(s){var e;console.error(null===(e=s.response)||void 0===e?void 0:e.data),d.oR.error("Failed to fetch profile data")}},u=s=>{const{name:l,value:i}=s.target;a({...e,[l]:i})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"wpWrapper",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)("h4",{className:"freight_hd",children:"Profile "})}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("button",{type:"button",className:"btn up_btn","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Update"})})]})})}),(0,n.jsx)("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,n.jsx)("div",{className:"modal-dialog",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-header",children:[(0,n.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Update Profile"}),(0,n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsxs)("div",{className:"row mb-0",children:[(0,n.jsx)("div",{className:"profileImgAdmin mb-5 text-center",children:(0,n.jsx)("img",{src:"".concat("https://sisccltd.com/images/").concat(e.profile),name:"profile",style:{width:"130px",height:"130px",borderRadius:"50%"},alt:"Profile"})}),(0,n.jsx)("div",{className:"profileContent",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)("input",{type:"file",name:"profile",onChange:e=>{const a=e.target.files[0];m(a)},className:"w-100 mb-3 px-2 py-2 rounded border"})}),(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)("input",{value:e.full_name||"",name:"full_name",onChange:u,className:"w-100 mb-3 px-2 py-2 rounded border"})}),(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)("input",{value:e.email||"",name:"email",onChange:u,className:"w-100 mb-3 px-2 py-2 rounded border"})})]})})]}),(0,n.jsxs)("div",{className:"modal-footer",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{try{h(!0);const a=new FormData;a.append("profile",o),a.append("full_name",e.full_name),a.append("email",e.email),a.append("id",x.id),await l.A.post("".concat("https://sisccltd.com/api/","update-profile"),a).then((e=>{r(e.data.data[0].profile)})),d.oR.success("Profile updated successfully"),j()}catch(s){var a;console.error(null===(a=s.response)||void 0===a?void 0:a.data),d.oR.error("Failed to update profile")}finally{h(!1)}},disabled:p,children:p?"Saving...":"Save Changes"})]})]})]})})}),(0,n.jsxs)("div",{className:"row mt-3",children:[(0,n.jsx)("div",{className:"col-3",children:(0,n.jsxs)("div",{className:"pro_box1",children:[(0,n.jsx)("div",{className:"img_profile",children:(0,n.jsx)("img",{src:"".concat("https://sisccltd.com/images/").concat(s),className:"pro_img",alt:"Profile"})}),(0,n.jsx)("p",{className:"img_para",children:"Profile Image"})]})}),(0,n.jsx)("div",{className:"col-9",children:(0,n.jsx)("div",{className:"pro_box",children:(0,n.jsxs)("div",{className:"profileContent",children:[(0,n.jsx)("h4",{children:"Basic Information"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Role:"})," ",(0,n.jsx)("span",{children:e.Role})]})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Full Name:"})," ",(0,n.jsx)("span",{children:e.full_name})]})})]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-12",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",(0,n.jsx)("span",{children:e.email})]})})})]})})})]})]})})})})})}}}]);
//# sourceMappingURL=894.1ecfcae6.chunk.js.map