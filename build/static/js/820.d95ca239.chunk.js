"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[820],{3820:(e,s,l)=>{l.r(s),l.d(s,{default:()=>b});var a=l(7154),t=l(5043),i=l(1434),n=l(7503),c=l(64),r=l.n(c),o=l(1888),d=l(6446),m=l(1906),p=l(5369),u=l(6971),h=l(4802),x=l(579);const j=10;function b(){const[e,s]=(0,t.useState)(1),[l,c]=(0,t.useState)([]),[b,v]=(0,t.useState)({}),[N,g]=(0,t.useState)(!1),[f,_]=(0,t.useState)([]),[C,y]=(0,t.useState)(!1),[w,k]=(0,t.useState)({supplier_email:"",supplier_name:""}),[S,A]=(0,t.useState)(""),[F,E]=(0,t.useState)(!1),[R,T]=t.useState([]),I=((0,u.Zp)(),null===R||void 0===R?void 0:R.filter((e=>{var s,l,a,t;return(null===e||void 0===e||null===(s=e.email)||void 0===s||null===(l=s.toLowerCase())||void 0===l?void 0:l.includes(null===S||void 0===S?void 0:S.toLowerCase()))||(null===e||void 0===e||null===(a=e.name)||void 0===a||null===(t=a.toLowerCase())||void 0===t?void 0:t.includes(null===S||void 0===S?void 0:S.toLowerCase()))}))),L=Math.ceil(I.length/j),B=(e-1)*j,M=B+j,Y=I.slice(B,M),q=()=>{g(!0),a.A.get("".concat("https://sisccltd.com/api/","supplier-list")).then((e=>{g(!1),T(e.data.data)})).catch((e=>{g(!1),console.log(e.response)}))},O=e=>{s(e)};(0,t.useEffect)((()=>{q()}),[]);const D=e=>{const{name:s,value:l}=e.target;k((e=>({...e,[s]:l})))},G=()=>{const e={supplier_email:w.supplier_email,supplier_name:w.supplier_name};a.A.post("".concat("https://sisccltd.com/api/","add-supplier"),e).then((e=>{n.oR.success(e.data.message),q(),E(!1)})).catch((e=>{n.oR.error(e.response.data.message)}))},P=e=>{const{name:s,value:a}=e.target;c({...l,[s]:a})},U=()=>{y(!1)};return(0,x.jsx)(x.Fragment,{children:N?(0,x.jsxs)("div",{class:"loader-container",children:[(0,x.jsx)("div",{class:"loader"}),(0,x.jsx)("p",{class:"loader-text",children:"Updating... This may take some time"})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"wpWrapper",children:(0,x.jsx)("div",{className:"container-fluid",children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"row manageFreight",children:(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)("h4",{className:"freight_hd",children:"Add Supplier"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)("input",{className:"px-2 py-1 rounded ",type:"text",placeholder:"Search",value:S,onChange:e=>{A(e.target.value),s(1)}})}),(0,x.jsx)("div",{className:"ms-2",children:(0,x.jsx)("button",{type:"button",onClick:()=>{E(!0)},children:"Add"})})]})]})})}),F&&(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)("div",{className:"custom-modal-content",children:[(0,x.jsxs)("div",{className:"custom-modal-header",children:[(0,x.jsx)("h5",{className:"custom-modal-title",children:"Add Staff"}),(0,x.jsx)("button",{type:"button",className:"btn-close",onClick:()=>{E(!1)},children:(0,x.jsx)(h.A,{})})]}),(0,x.jsxs)("div",{className:"custom-modal-body",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label mb-2 md_staff",children:"Email address"}),(0,x.jsx)("input",{type:"email",className:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com",onChange:D,name:"supplier_email"}),(0,x.jsx)("p",{className:"text-danger",children:b.supplier_email})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"inputText",className:"form-label mb-2 md_staff",children:"Full Name"}),(0,x.jsxs)("div",{className:"col-sm-12",children:[(0,x.jsx)("input",{type:"text",onChange:D,name:"supplier_name",className:"form-control",id:"inputText",placeholder:"Enter your Name"}),(0,x.jsx)("p",{className:"text-danger",children:b.supplier_name})]})]})]}),(0,x.jsx)("div",{className:"custom-modal-footer",children:(0,x.jsx)("button",{type:"button",className:"btn text-white",onClick:()=>{(e=>{let s={};e.supplier_email||(s.supplier_email="Email is required"),e.supplier_name||(s.supplier_name="Name is required"),v(s),0===Object.keys(s).length&&G()})(w)},style:{backgroundColor:"#1b2245"},children:"Add Member"})})]})}),(0,x.jsxs)("div",{className:"table-responsive mt-3",children:[(0,x.jsxs)("table",{className:"table table-striped tableICon",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"Sr.No."}),(0,x.jsx)("th",{scope:"col",children:"Full Name"}),(0,x.jsx)("th",{scope:"col",children:"Email"}),(0,x.jsx)("th",{scope:"col",children:"Action"})]})}),(0,x.jsx)("tbody",{style:{border:"none"},children:Y&&Y.length>0&&Y.map(((e,s)=>(console.log(e),(0,x.jsxs)("tr",{className:"border-bottom",children:[(0,x.jsx)("th",{children:B+s+1}),(0,x.jsx)("td",{children:e.name}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"action_btn1 d-flex align-items-center",children:[(0,x.jsx)(p.uO9,{onClick:()=>{(e=>{const s=R.find((s=>s.id===e));console.log(s),s&&c({supplier_id:e,supplier_email:s.email,supplier_name:s.name}),y(!0)})(e.id)},style:{color:"rgb(27 34 69)",marginRight:"10px",width:"20px",height:"15px",cursor:"pointer"}}),(0,x.jsx)(i.F23,{className:"text-danger",style:{cursor:"pointer"},onClick:()=>{(async e=>{r().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((s=>{s.isConfirmed&&(a.A.post("".concat("https://sisccltd.com/api/","delete-supplier"),{staff_id:e}).then((e=>{n.oR.success(e.data.message),q()})).catch((e=>{n.oR.error(e.response.data.message)})),r().fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}))}))})(e.id)}})]})})]},s))))})]}),(0,x.jsxs)("div",{className:"text-center d-flex justify-content-end align-items-center",children:[(0,x.jsxs)("button",{disabled:1===e,className:"bg_page",onClick:()=>O(e-1),children:[" ",(0,x.jsx)("i",{class:"fi fi-rr-angle-small-left page_icon"})]}),(0,x.jsx)("span",{className:"mx-2",children:"Page ".concat(e," of ").concat(L)}),(0,x.jsx)("button",{disabled:e===L,className:"bg_page",onClick:()=>O(e+1),children:(0,x.jsx)("i",{class:"fi fi-rr-angle-small-right page_icon"})})]})]})]}),(0,x.jsx)(o.A,{open:C,onClose:U,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,x.jsxs)(d.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,x.jsxs)("div",{className:"modal-header",children:[(0,x.jsx)("h2",{id:"modal-modal-title",children:"Edit Staff"}),(0,x.jsx)("button",{className:"btn btn-close",onClick:U,children:(0,x.jsx)(h.A,{})})]}),(0,x.jsxs)("div",{className:"newModalGap",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"ware_label",children:"Email address"}),(0,x.jsx)("input",{type:"email",className:"form-control mb-3",value:null===l||void 0===l?void 0:l.supplier_email,id:"exampleFormControlInput1",placeholder:"name@example.com",onChange:P,name:"supplier_email"})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("label",{htmlFor:"inputText",className:"ware_label",children:"Full Name"}),(0,x.jsx)("input",{type:"text",onChange:P,name:"supplier_name",value:null===l||void 0===l?void 0:l.supplier_name,className:"form-control mb-3",id:"inputText",placeholder:"Enter your Name"})]})}),(0,x.jsx)("div",{className:"text-center mt-2 unsetLt",children:(0,x.jsx)(m.A,{variant:"contained",className:"submit_btn",onClick:()=>{console.log(l);const e={supplier_id:l.supplier_id,supplier_email:l.supplier_email,supplier_name:l.supplier_name};console.group(e),a.A.post("".concat("https://sisccltd.com/api/","update-supplier"),e).then((e=>{n.oR.success(e.data.message),U(),q(),E(!1)})).catch((e=>{n.oR.error(e.response.data.message)}))},children:"Submit"})})]})]})})]})})}),(0,x.jsx)(n.N9,{})]})})}}}]);
//# sourceMappingURL=820.d95ca239.chunk.js.map