"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[427],{8627:(e,s,i)=>{i.r(s),i.d(s,{default:()=>K});var a=i(5043),n=i(6971),t=i(1318),c=i(5369),o=i(7805),r=i(9837),d=i(4193);const l=i.p+"static/media/logoWhiteNew.dfea16d563968493e49d.png";var h=i(8515),m=i(5374),p=i(3323),u=i(2027),x=i(7916),j=i(2606),A=i(8459),g=i(8076),v=i(7365),f=i(9877),b=i(1688),N=i(2431),y=i(8094),k=i(2441),C=i(376),w=i(1810),S=i(7109),R=i(587),O=i(342),P=i(6594),_=i(6672),F=i(1071),I=i(288),E=i(1337),M=i(5473),W=i(7199),B=i(579);const J=[{path:"/Admin/dashboard",name:"Dashboard",icon:(0,B.jsx)(A.A,{})},{path:"",name:"Enquiries",icon:(0,B.jsx)(I.A,{}),subRoutes:[{path:"/Admin/managefreight",name:"Freight by Admin",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/freight",name:"Freight by User",icon:(0,B.jsx)(c.x$1,{})},{path:"/Admin/custom-clearance-order",name:"Custom by Admin",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/Custom-clearence-byuser",name:"Custom by User",icon:(0,B.jsx)(c.x$1,{})},{path:"/Admin/query",name:"Dispute",icon:(0,B.jsx)(F.A,{})},{path:"/Admin/notifications",name:"Notifications",icon:(0,B.jsx)(O.A,{})}]},{path:"",name:"Manage Invoices",icon:(0,B.jsx)(W.A,{}),subRoutes:[{path:"/Admin/billing",name:"Invoices",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/sageinvoice",name:"Sage Invoices",icon:(0,B.jsx)(c.x$1,{})},{path:"/Admin/cashbook",name:"Cashbook",icon:(0,B.jsx)(b.A,{})},{path:"/Admin/releasedDashboard",name:"Released Dashboard",icon:(0,B.jsx)(y.A,{})}]},{path:"",name:"Manage Freight",icon:(0,B.jsx)(g.A,{}),subRoutes:[{path:"/Admin/order",name:"Freight Orders",icon:(0,B.jsx)(b.A,{})},{path:"/Admin/manage-shipment",name:"Shipments",icon:(0,B.jsx)(w.A,{})}]},{path:"",name:"Custom Clearance",icon:(0,B.jsx)(f.A,{}),subRoutes:[{path:"/Admin/calculation-order",name:"Clearance Order",icon:(0,B.jsx)(b.A,{})}]},{path:"",name:"Batches",icon:(0,B.jsx)(x.A,{}),subRoutes:[{path:"/Admin/Batches",name:"Batches",icon:(0,B.jsx)(k.A,{})}]},{path:"",name:"Warehouse",icon:(0,B.jsx)(u.A,{}),subRoutes:[{path:"/Admin/WarehouseOrder",name:"Warehouse Order",icon:(0,B.jsx)(b.A,{})}]},{path:"",name:"Imports ",icon:(0,B.jsx)(S.A,{}),subRoutes:[{path:"/Admin/oploadfile",name:"Excel",icon:(0,B.jsx)(R.A,{})}]},{path:"/Admin/countryoforigin",name:"Country Of Origin",icon:(0,B.jsx)(C.A,{})},{path:"/Admin/manage-customer",name:"Manage Customers",icon:(0,B.jsx)(w.A,{})}],D={path:"",name:"User Control",icon:(0,B.jsx)(_.A,{}),subRoutes:[{path:"/Admin/manage-staff",name:"Manage Staff",icon:(0,B.jsx)(P.A,{})},{path:"/Admin/Warehouse",name:"Warehouse",icon:(0,B.jsx)(h.A,{})},{path:"/Admin/link",name:"Add Links",icon:(0,B.jsx)(m.A,{})},{path:"/Admin/term-conditions",name:"Terms and Conditions",icon:(0,B.jsx)(j.A,{})},{path:"/Admin/privacy-policy",name:"Privacy Policy",icon:(0,B.jsx)(N.A,{})}]},L=e=>{let{children:s}=e;const i=(0,n.Zp)(),[c,h]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),x=JSON.parse(localStorage.getItem("data123")).user_type,j=[...J];"1"===x&&j.push(D),(0,a.useEffect)((()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&h("true"===e)}),[]),(0,a.useEffect)((()=>{localStorage.setItem("sidebarOpen",c)}),[c]);const A=()=>h(!c),g={hidden:{width:0,opacity:0,transition:{duration:.5}},show:{opacity:1,width:"auto",transition:{duration:.5}}};return(0,B.jsxs)("div",{className:"main-container",children:[(0,B.jsxs)(r.P.div,{animate:{width:c?"300px":"42px",transition:{duration:.5,type:"spring",damping:10}},className:"sidebar",children:[(0,B.jsxs)("div",{className:"top_section",children:[(0,B.jsx)(d.N,{children:c&&(0,B.jsx)(r.P.h1,{variants:g,initial:"hidden",animate:"show",exit:"hidden",className:"logo",children:(0,B.jsx)("img",{src:l,alt:"this is image",style:{width:"150px"}})})}),c?(0,B.jsx)("div",{className:"bars",style:{borderRadius:"20px"},children:(0,B.jsx)(o.osA,{onClick:A,style:{fontSize:"2rem",cursor:"pointer"}})}):(0,B.jsx)(o.L6Y,{size:30,onClick:A,color:"blue"})]}),(0,B.jsx)("div",{className:"text-center",children:(0,B.jsx)("div",{children:(0,B.jsx)("button",{className:"search",style:{cursor:"pointer"},onClick:()=>{i("/Admin/Addfreight")},children:(0,B.jsxs)(d.N,{children:[(0,B.jsx)("span",{children:(0,B.jsx)(p.A,{})}),c&&(0,B.jsx)("p",{className:"addF",style:{cursor:"pointer"},children:"Add Freight"})]})})})}),(0,B.jsx)("section",{className:"routes",children:j.map(((e,s)=>e.subRoutes?(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"link dropdown-header",style:{cursor:"pointer"},onClick:()=>(e=>{u((s=>s===e?null:e))})(s),children:[(0,B.jsx)("div",{className:"icon ",children:e.icon}),(0,B.jsx)(d.N,{children:c&&(0,B.jsxs)(r.P.div,{variants:g,initial:"hidden",animate:"show",exit:"hidden",className:"link_text d-flex justify-content-between align-items-center",children:[(0,B.jsx)("span",{children:e.name}),m===s?(0,B.jsx)(M.A,{}):(0,B.jsx)(E.A,{})]})})]}),m===s&&(0,B.jsx)(r.P.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"sub_routes",children:e.subRoutes.map(((e,s)=>(0,B.jsxs)(t.k2,{to:e.path,className:e=>{let{isActive:s}=e;return s?"link active":"link"},style:{cursor:"pointer"},children:[(0,B.jsx)("div",{className:"icon ms-4",children:e.icon}),c&&(0,B.jsx)("div",{className:"link_text1 ",children:e.name})]},s)))})]},s):(0,B.jsxs)(t.k2,{to:e.path,className:e=>{let{isActive:s}=e;return s?"link active":"link"},children:[(0,B.jsx)("div",{className:"icon",children:e.icon}),(0,B.jsx)(d.N,{children:c&&(0,B.jsx)(r.P.div,{variants:g,initial:"hidden",animate:"show",exit:"hidden",className:"link_text",children:e.name})})]},s)))})]}),(0,B.jsx)(r.P.div,{animate:{width:c?"85%":"100%",transition:{duration:.5,type:"spring",damping:10}},className:"main_div",children:(0,B.jsx)("main",{children:s})})]})};var T=i(4528),U=i(4063),z=i(1574),Z=i(6990),$=i(4444),q=i(7154),H=i(7503),Y=i(2989);const G=()=>{var e;const s=(0,n.Zp)(),[i,t]=(0,a.useState)(null),[c,o]=(0,a.useState)([]),[r,d]=(0,a.useState)(0),[l,h]=(0,a.useState)({}),[m,p]=(0,a.useState)([]),{text:u,setText:x}=(0,a.useContext)(Y.P),j=null===(e=JSON.parse(localStorage.getItem("data123")))||void 0===e?void 0:e.id;(0,a.useEffect)((()=>{j&&(A(),g(),v())}),[j]);const A=async()=>{try{const e=await q.A.post("".concat("https://sisccltd.com/api/","notification-users"),{user_id:j});o(e.data.data||[]),d(e.data.unseenCount||0)}catch(i){var e,s;H.oR.error((null===(e=i.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"Failed to fetch notifications")}},g=async()=>{try{const e=await q.A.post("".concat("https://sisccltd.com/api/","get-profile-admin"),{user_id:j});p(e.data.data.profile),h(e.data.data||{})}catch(e){H.oR.error("Failed to fetch profile data")}},v=async()=>{try{await q.A.post("".concat("https://sisccltd.com/api/","notification-status"),{user_id:j})}catch(e){console.error("Failed to mark notifications as seen")}},f=()=>{s("/Admin/notifications")};return(0,B.jsxs)("header",{className:"header",style:{backgroundColor:"#f0f2f5"},children:[(0,B.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-4 pt-4",children:[(0,B.jsx)("div",{className:"",children:(0,B.jsxs)(T.A,{children:[(0,B.jsxs)(T.A.Toggle,{variant:"",id:"dropdown-basic",children:[(0,B.jsx)($.A,{className:"fs-3"}),r>0&&(0,B.jsx)(U.A,{bg:"danger",children:r})]}),(0,B.jsxs)(T.A.Menu,{className:"sidebar123 pt-0",children:[(0,B.jsx)("p",{className:" ps-3 notiHead mb-0 py-2",children:"Notifications"}),(0,B.jsx)("div",{className:"notificationScroll",children:c.length>0?c.map(((e,s)=>(0,B.jsx)("div",{className:"bg-light border-bottom notificationAsiaBack",onClick:f,children:(0,B.jsxs)(T.A.Item,{children:[(0,B.jsx)("h6",{className:"mt-2",children:e.title}),(0,B.jsx)("p",{className:"description",children:(0,B.jsx)("small",{children:e.description})})]})},s))):(0,B.jsx)("p",{className:"text-center",children:"No new notifications"})})]})]})}),(0,B.jsx)("div",{style:{width:"35px",height:"35px"},className:"me-5",children:(0,B.jsx)("img",{src:u?"".concat("https://sisccltd.com/images/").concat(u):"".concat("https://sisccltd.com/images/").concat(m),alt:"User Profile",id:"basic-button","aria-controls":i?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:e=>t(e.currentTarget),style:{cursor:"pointer",width:"100%",height:"100%",borderRadius:"50%"}})}),(0,B.jsxs)(z.A,{id:"basic-menu",anchorEl:i,open:Boolean(i),onClose:()=>t(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,B.jsx)(Z.A,{onClick:()=>{s("/Admin/profile"),t(null)},children:"Profile"}),(0,B.jsx)(Z.A,{onClick:()=>{s("/Admin/changepassword"),t(null)},children:"Change Password"}),(0,B.jsx)(Z.A,{onClick:()=>{localStorage.clear(),s("/"),t(null)},children:"Logout"})]})]}),(0,B.jsx)(H.N9,{})]})};function K(){const e=(0,n.Zp)();var s=(0,n.zy)().pathname;return(0,a.useEffect)((()=>{(async()=>{var i;const a=await(null===JSON||void 0===JSON?void 0:JSON.parse(null===(i=localStorage)||void 0===i?void 0:i.getItem("data123")));e(void 0===a||null===a?"/":s)})()}),[]),(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(L,{children:[(0,B.jsx)(G,{}),(0,B.jsx)(n.sv,{})]})})}}}]);
//# sourceMappingURL=427.ceb21cdf.chunk.js.map