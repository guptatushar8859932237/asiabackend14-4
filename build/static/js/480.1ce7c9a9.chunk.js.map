{"version":3,"file":"static/js/480.1ce7c9a9.chunk.js","mappings":"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","sources":["pages/Notification.jsx"],"sourcesContent":["// import axios from \"axios\";\r\n// import { useEffect, useState, useRef } from \"react\";\r\n// import { AiFillDelete } from \"react-icons/ai\";\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n// import Swal from \"sweetalert2\";\r\n// import CloseIcon from \"@mui/icons-material/Close\";\r\n\r\n// const pageSize =10;\r\n// const Notification = () => {\r\n//   const [data, setData] = useState(\"\");\r\n//   const [inpdata, setInpdata] = useState({\r\n//     send_to: \"\", user_id: \"\", title: \"\", description: \"\"\r\n//   });\r\n//   const [showContent, setShowContent] = useState(false);\r\n//   const [showContent1, setShowContent1] = useState(false);\r\n//   const [clientlist, setClientlist] = useState([]);\r\n//    const [currentPage, setCurrentPage] = useState(1);\r\n//   const [error, setError] = useState(\"\");\r\n//   const [stafflist, setStafflist] = useState([]);\r\n//   const nameRef = useRef();\r\n//   const emailRef = useRef();\r\n//   const messageRef = useRef();\r\n\r\n//   const handledelete = (id) => {\r\n//     Swal.fire({\r\n//       title: \"Are you sure?\",\r\n//       text: \"You won't be able to revert this!\",\r\n//       icon: \"warning\",\r\n//       showCancelButton: true,\r\n//       confirmButtonColor: \"#3085d6\",\r\n//       cancelButtonColor: \"#d33\",\r\n//       confirmButtonText: \"Yes, delete it!\"\r\n//     }).then((result) => {\r\n//       if (result.isConfirmed) {\r\n//         axios.post(`${process.env.REACT_APP_BASE_URL}delete-notification`, { notification_id: id }).then((response) => {\r\n//           toast.success(response.data.message);\r\n//           showdata();\r\n//         }).catch((error) => {\r\n//           toast.error(error.response.data.message);\r\n//         });\r\n//         Swal.fire({\r\n//           title: \"Deleted!\",\r\n//           text: \"Your file has been deleted.\",\r\n//           icon: \"success\"\r\n//         });\r\n//       }\r\n//     });\r\n//   };\r\n\r\n//   const showdata = () => {\r\n//     axios.post(`${process.env.REACT_APP_BASE_URL}notification-list`).then((response) => {\r\n//       setData(response.data.data);\r\n//     });\r\n//   };\r\n\r\n//   const totalPage = Math.ceil(data.length / pageSize);\r\n//   const startIndex = (currentPage - 1) * pageSize;\r\n//   const endIndex = startIndex + pageSize;\r\n//   const currentdata = data.slice(startIndex, endIndex);\r\n//   useEffect(() => {\r\n//     showdata();\r\n//   }, []);\r\n\r\n//   const handlechange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setInpdata({ ...inpdata, [name]: value });\r\n//     if (name === \"send_to\") {\r\n//       setShowContent(value === \"4\");\r\n//       setShowContent1(value === \"3\");\r\n//     }\r\n//   };\r\n\r\n//   const handelvalidate = (value) => {\r\n//     let error = {};\r\n//     if (!value.title) {\r\n//       error.title = \"Title is required\";\r\n//     }\r\n//     if (!value.description) {\r\n//       error.description = \"Description is required\";\r\n//     }\r\n//     if (!error.title && !error.description) {\r\n//       apihit();\r\n//     }\r\n//     setError(error);\r\n//   };\r\n\r\n//   const postdata = () => {\r\n//     handelvalidate(inpdata);\r\n//   };\r\n\r\n//   const apihit = () => {\r\n//     axios.post(`${process.env.REACT_APP_BASE_URL}send-notification`, inpdata).then((response) => {\r\n//       toast.success(response.data.message);\r\n//       nameRef.current.value = \"\";\r\n//       emailRef.current.value = \"\";\r\n//       messageRef.current.value = \"\";\r\n//       showdata();\r\n//     });\r\n//   };\r\n\r\n//   const handleclickshow = () => {\r\n//     axios.get(`${process.env.REACT_APP_BASE_URL}staff-list`).then((response) => {\r\n//       setStafflist(response.data.data);\r\n//     });\r\n//   };\r\n\r\n//   const handleclickshow1 = () => {\r\n//     axios.get(`${process.env.REACT_APP_BASE_URL}clientlist`).then((response) => {\r\n//       setClientlist(response.data.data);\r\n//     });\r\n//   };\r\n\r\n//   const handlePageChange = (page) => {\r\n//     setCurrentPage(page);\r\n//   };\r\n//   return (\r\n//     <>\r\n//       <div className=\"wpWrapper\">\r\n//         <div className=\"container-fluid\">\r\n//           <div>\r\n//             <div>\r\n//               <div className=\"row manageFreight\">\r\n//                 <div className=\"col-12\">\r\n//                   <div className='d-flex justify-content-between align-item-center'>\r\n//                     <div className=\"\">\r\n//                       <h4 className=\"freight_hd\">Notification</h4>\r\n//                     </div>\r\n//                     <div className=\"\">\r\n//                       <button type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n//                         Send Notification\r\n//                       </button>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//               <div className=\"modal fade modalBorder\" id=\"exampleModal\" tabIndex={-1} aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n//                 <div className=\"modal-dialog modal-dialog-centered\">\r\n//                   <div className=\"modal-content\">\r\n//                     <div className=\"modal-header\">\r\n//                       <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add Notification</h5>\r\n//                       <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n//                       <CloseIcon/>\r\n//                       </button>\r\n//                     </div>\r\n//                     <div className=\"modal-body notifiAddmodal\">\r\n//                       <div className=\"d-flex justify-content-between\">\r\n//                         <div>\r\n//                           <input type=\"radio\" id=\"all_user\" value=\"2\" ref={nameRef} name=\"send_to\" onChange={handlechange} />\r\n//                           <label for=\"all_user\" className=\"ms-1\">All User</label>\r\n//                         </div>\r\n//                         <div>\r\n//                           <input type=\"radio\" id=\"All_Staff\" value=\"1\" name=\"send_to\" onChange={handlechange} />\r\n//                           <label for=\"All_Staff\" className=\"ms-1\">All Staff</label>\r\n//                         </div>\r\n//                         <div>\r\n//                           <input type=\"radio\" id=\"Particular_user\" value=\"3\" onClick={handleclickshow1} name=\"send_to\" onChange={handlechange} />\r\n//                           <label for=\"Particular_user\" className=\"ms-1\">Particular User</label>\r\n//                         </div>\r\n//                         <div>\r\n//                           <input type=\"radio\" id=\"Particular_staff\" value=\"4\" onClick={handleclickshow} name=\"send_to\" onChange={handlechange} />\r\n//                           <label for=\"Particular_staff\" className=\"ms-1\">Particular Staff</label>\r\n//                         </div>\r\n//                       </div>\r\n//                       {showContent1 && (\r\n//                         <div>\r\n//                           <label className=\"mt-3\">Particular User</label><br />\r\n//                           <select name=\"user_id\" className=\"w-100 p-2 rounded\" onChange={handlechange}>\r\n//                             <option className=\"ps-2\">Select...</option>\r\n//                             {clientlist.length > 0 && clientlist.map((item, index) => (\r\n//                               <option key={index} value={item.id}>{item.client_name}</option>\r\n//                             ))}\r\n//                           </select>\r\n//                         </div>\r\n//                       )}\r\n//                       {showContent && (\r\n//                         <div>\r\n//                           <label className=\"mt-3\">Particular Staff</label><br />\r\n//                           <select name=\"user_id\" className=\"w-100 p-2 border-1 rounded\" onChange={handlechange}>\r\n//                             <option>Select...</option>\r\n//                             {stafflist.length > 0 && stafflist.map((item, index) => (\r\n//                               <option key={index} value={item.id}>{item.full_name}</option>\r\n//                             ))}\r\n//                           </select>\r\n//                         </div>\r\n//                       )}\r\n//                       <div>\r\n//                         <label>Title</label>\r\n//                         <input type=\"text\" onChange={handlechange} ref={emailRef} name=\"title\" placeholder=\"Title\" className=\"form-control\" />\r\n//                         <p className=\"text-danger\">{error.title}</p>\r\n//                       </div>\r\n//                       <div>\r\n//                         <label>Message</label>\r\n//                         <textarea type=\"text\" ref={messageRef} onChange={handlechange} placeholder=\"Message\" name=\"description\" className=\"form-control\" />\r\n//                         <p className=\"text-danger mb-0\">{error.description}</p>\r\n//                       </div>\r\n//                     </div>\r\n//                     <div className=\"modal-footer\">\r\n//                       <button type=\"button\" onClick={postdata} className=\"btn btn-primary\">\r\n//                         Send Notification\r\n//                       </button>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//               <div className=\"table-responsive mt-2\">\r\n//                 <table className=\"table table-striped tableICon\">\r\n//                   <thead>\r\n//                     <tr>\r\n//                       <th scope=\"col\">Sr.No.</th>\r\n//                       <th scope=\"col\">Title</th>\r\n//                       <th scope=\"col\">Message</th>\r\n//                       <th scope=\"col\">Date</th>\r\n//                       <th scope=\"col\">Action</th>\r\n//                     </tr>\r\n//                   </thead>\r\n//                   <tbody style={{ border: \"none\" }}>\r\n//                     {currentdata.length > 0 && currentdata.map((item, index) => {\r\n//                       const date = new Date(item?.created_at);\r\n//                       const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n//                         day: \"numeric\",\r\n//                         month: \"long\",\r\n//                         year: \"numeric\"\r\n//                       });\r\n//                       return (\r\n//                         <tr className=\"border-bottom\" key={index}>\r\n//                           <th>{index + 1}</th>\r\n//                           <td>{item.title}</td>\r\n//                           <td>{item.description}</td>\r\n//                           <td>{formattedDate}</td>\r\n//                           <td>\r\n//                             <div className=\"action_btn1\">\r\n//                               <AiFillDelete className=\"text-danger\" onClick={() => handledelete(item.id)} style={{cursor:\"pointer\"}} />\r\n//                             </div>\r\n//                           </td>\r\n//                         </tr>\r\n//                       );\r\n//                     })}\r\n//                   </tbody>\r\n//                 </table>\r\n//                 <div className=\"text-center d-flex justify-content-end align-items-center\">\r\n//                       <button\r\n//                         disabled={currentPage === 1}\r\n//                         className=\"bg_page\"\r\n//                         onClick={() => handlePageChange(currentPage - 1)}\r\n//                       >\r\n//                         <i class=\"fi fi-rr-angle-small-left page_icon\"></i>\r\n//                       </button>\r\n//                       <span className=\"mx-2\">{`Page ${currentPage} of ${totalPage}`}</span>\r\n//                       <button\r\n//                         disabled={currentPage === totalPage}\r\n//                         className=\"bg_page\"\r\n//                         onClick={() => handlePageChange(currentPage + 1)}\r\n//                       >\r\n//                         <i class=\"fi fi-rr-angle-small-right page_icon\"></i>\r\n//                       </button>\r\n//                     </div>\r\n//               </div>\r\n//             </div>\r\n//           </div >\r\n//           <ToastContainer />\r\n//         </div >\r\n//       </div >\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default Notification;\r\n// import axios from \"axios\";\r\n// import { useEffect, useState, useRef } from \"react\";\r\n// import { AiFillDelete } from \"react-icons/ai\";\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n// import Swal from \"sweetalert2\";\r\n// import Select from \"react-select\";\r\n// import CloseIcon from \"@mui/icons-material/Close\";\r\n\r\n// const pageSize = 10;\r\n\r\n// const Notification = () => {\r\n//   const [data, setData] = useState([]);\r\n//   const [inpdata, setInpdata] = useState({\r\n//     send_to: \"\",\r\n//     user_id: \"\",\r\n//     title: \"\",\r\n//     description: \"\",\r\n//   });\r\n\r\n//   const [showContent, setShowContent] = useState(false);\r\n//   const [showContent1, setShowContent1] = useState(false);\r\n//   const [showMultiUser, setShowMultiUser] = useState(false);\r\n//   const [showBatchUser, setShowBatchUser] = useState(false);\r\n//   const [batchId,setBatchId]=useState(\"\")\r\n//   const [clientlist, setClientlist] = useState([]);\r\n//   const [stafflist, setStafflist] = useState([]);\r\n//   const [batchlist, setBatchlist] = useState([]);\r\n//   const [batchlist1, setBatchlist1] = useState([]);\r\n//   const [batchUserList, setBatchUserList] = useState([]);\r\n//   const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const [error, setError] = useState({});\r\n//   const nameRef = useRef();\r\n//   const emailRef = useRef();\r\n//   const messageRef = useRef();\r\n\r\n//   const handledelete = (id) => {\r\n//     Swal.fire({\r\n//       title: \"Are you sure?\",\r\n//       text: \"You won't be able to revert this!\",\r\n//       icon: \"warning\",\r\n//       showCancelButton: true,\r\n//       confirmButtonColor: \"#3085d6\",\r\n//       cancelButtonColor: \"#d33\",\r\n//       confirmButtonText: \"Yes, delete it!\",\r\n//     }).then((result) => {\r\n//       if (result.isConfirmed) {\r\n//         axios\r\n//           .post(`${process.env.REACT_APP_BASE_URL}delete-notification`, {\r\n//             notification_id: id,\r\n//           })\r\n//           .then((response) => {\r\n//             toast.success(response.data.message);\r\n//             showdata();\r\n//           })\r\n//           .catch((error) => {\r\n//             toast.error(error.response.data.message);\r\n//           });\r\n//       }\r\n//     });\r\n//   };\r\n\r\n//   const showdata = () => {\r\n//     axios\r\n//       .post(`${process.env.REACT_APP_BASE_URL}notification-list`)\r\n//       .then((response) => {\r\n//         setData(response.data.data);\r\n//       });\r\n//   };\r\n\r\n//   const totalPage = Math.ceil(data.length / pageSize);\r\n//   const startIndex = (currentPage - 1) * pageSize;\r\n//   const endIndex = startIndex + pageSize;\r\n//   const currentdata = data.slice(startIndex, endIndex);\r\n\r\n//   useEffect(() => {\r\n//     showdata();\r\n//   }, []);\r\n\r\n//   const handlechange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setInpdata({ ...inpdata, [name]: value });\r\n\r\n//     if (name === \"send_to\") {\r\n//       setShowContent(value === \"4\");\r\n//       setShowContent1(value === \"3\");\r\n//       setShowMultiUser(value === \"5\");\r\n//       setShowBatchUser(value === \"6\");\r\n\r\n//       if (value === \"3\" || value === \"5\" || value === \"6\") {\r\n//         axios\r\n//           .get(`${process.env.REACT_APP_BASE_URL}clientlist`)\r\n//           .then((response) => {\r\n//             setClientlist(response.data.data);\r\n//           });\r\n//       }\r\n//       if (value === \"4\") {\r\n//         axios\r\n//           .get(`${process.env.REACT_APP_BASE_URL}staff-list`)\r\n//           .then((response) => {\r\n//             setStafflist(response.data.data);\r\n//           });\r\n//       }\r\n//       if (value === \"6\") {\r\n//         axios\r\n//           .get(`${process.env.REACT_APP_BASE_URL}getBatchList`)\r\n//           .then((response) => {\r\n//             setBatchlist(response.data.data);\r\n//           });\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   const handleUserMultiSelect = (e) => {\r\n//     const selected = Array.from(\r\n//       e.target.selectedOptions,\r\n//       (option) => option.value\r\n//     );\r\n//     setSelectedUsers(selected);\r\n//     setInpdata({ ...inpdata, user_id: selected.join(\",\") });\r\n//   };\r\n//   const handleBatchChange = (e) => {\r\n//     const batchId = e.target.value;\r\n//     setBatchId(batchId);\r\n//   };\r\n//   const handelvalidate = (value) => {\r\n//     let error = {};\r\n//     if (!value.title) error.title = \"Title is required\";\r\n//     if (!value.description) error.description = \"Description is required\";\r\n//     if (!error.title && !error.description) {\r\n//       apihit();\r\n//     }\r\n//     setError(error);\r\n//   };\r\n//   const postdata = () => {\r\n//     handelvalidate(inpdata);\r\n//   };\r\n//  const apihit = () => {\r\n//   const inpdata1 = {\r\n//     send_to: inpdata.send_to,\r\n//     batch_id: parseInt(batchId),\r\n//     user_id: inpdata.user_id,\r\n//     title: inpdata.title,\r\n//     description: inpdata.description,\r\n//   };\r\n//   console.log(inpdata1);\r\n//   axios\r\n//     .post(`${process.env.REACT_APP_BASE_URL}send-notification`, inpdata1)\r\n//     .then((response) => {\r\n//       toast.success(response.data.message);\r\n//       setInpdata({\r\n//         send_to: \"\",\r\n//         user_id: \"\",\r\n//         title: \"\",\r\n//         description: \"\",\r\n//       });\r\n//       setSelectedUsers([]);\r\n//       setShowContent(false);\r\n//       setShowContent1(false);\r\n//       setShowMultiUser(false);\r\n//       setShowBatchUser(false);\r\n//       showdata();\r\n//     })\r\n//     .catch((error) => {\r\n//       if (error.response) {\r\n//         const errMsg = error.response.data.message || \"Something went wrong on server.\";\r\n//         toast.error(`Error: ${errMsg}`);\r\n//       } else if (error.request) {\r\n//         toast.error(\"No response from server. Please check your network.\");\r\n//       } else {\r\n//         toast.error(`Request error: ${error.message}`);\r\n//       }\r\n//       console.error(\"API Error:\", error);\r\n//     });\r\n// };\r\n//   const handlePageChange = (page) => {\r\n//     setCurrentPage(page);\r\n//   };\r\n//   useEffect(() => {\r\n//     Batchget();\r\n//   }, []);\r\n//   const Batchget = async () => {\r\n//     try {\r\n//       const response = await axios.get(\r\n//         `${process.env.REACT_APP_BASE_URL}getAllBatch`\r\n//       );\r\n\r\n//       if (response.data.success === true) {\r\n//         setBatchlist1(response.data.data);\r\n//       } else {\r\n//         console.error(\r\n//           \"Failed to fetch batches:\",\r\n//           response.data.message || \"Unknown error\"\r\n//         );\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching batches:\", error.message || error);\r\n//     }\r\n//   };\r\n//   return (\r\n//     <>\r\n//       <div className=\"wpWrapper\">\r\n//         <div className=\"container-fluid\">\r\n//           <div className=\"row manageFreight\">\r\n//             <div className=\"col-12\">\r\n//               <div className=\"d-flex justify-content-between align-item-center\">\r\n//                 <h4 className=\"freight_hd\">Notification</h4>\r\n//                 <button\r\n//                   type=\"button\"\r\n//                   data-bs-toggle=\"modal\"\r\n//                   data-bs-target=\"#exampleModal\"\r\n//                 >\r\n//                   Send Notification\r\n//                 </button>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//           <div\r\n//             className=\"modal fade modalBorder\"\r\n//             id=\"exampleModal\"\r\n//             tabIndex={-1}\r\n//             aria-labelledby=\"exampleModalLabel\"\r\n//             aria-hidden=\"true\"\r\n//           >\r\n//             <div className=\"modal-dialog modal-dialog-centered\">\r\n//               <div className=\"modal-content\">\r\n//                 <div className=\"modal-header\">\r\n//                   <h5 className=\"modal-title\">Add Notification</h5>\r\n//                   <button\r\n//                     type=\"button\"\r\n//                     className=\"btn-close\"\r\n//                     data-bs-dismiss=\"modal\"\r\n//                     aria-label=\"Close\"\r\n//                   >\r\n//                     <CloseIcon />\r\n//                   </button>\r\n//                 </div>\r\n//                 <div className=\"modal-body notifiAddmodal\">\r\n//                   <div className=\"d-flex flex-wrap gap-3 mb-3\">\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"2\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       All User\r\n//                     </label>\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"1\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       All Staff\r\n//                     </label>\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"3\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       Particular User\r\n//                     </label>\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"4\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       Particular Staff\r\n//                     </label>\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"5\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       Multiple Users\r\n//                     </label>\r\n//                     <label>\r\n//                       <input\r\n//                         type=\"radio\"\r\n//                         value=\"6\"\r\n//                         name=\"send_to\"\r\n//                         onChange={handlechange}\r\n//                       />{\" \"}\r\n//                       Users by Batch\r\n//                     </label>\r\n//                   </div>\r\n//                   {showContent1 && (\r\n//                     <div className=\"mb-3\">\r\n//                       <label>Particular User</label>\r\n//                       <select\r\n//                         name=\"user_id\"\r\n//                         className=\"form-control\"\r\n//                         onChange={handlechange}\r\n//                       >\r\n//                         <option value=\"\">Select...</option>\r\n//                         {clientlist.map((item) => (\r\n//                           <option key={item.id} value={item.id}>\r\n//                             {item.client_name}\r\n//                           </option>\r\n//                         ))}\r\n//                       </select>\r\n//                     </div>\r\n//                   )}\r\n//                   {showContent && (\r\n//                     <div className=\"mb-3\">\r\n//                       <label>Particular Staff</label>\r\n//                       <select\r\n//                         name=\"user_id\"\r\n//                         className=\"form-control\"\r\n//                         onChange={handlechange}\r\n//                       >\r\n//                         <option value=\"\">Select...</option>\r\n//                         {stafflist.map((item) => (\r\n//                           <option key={item.id} value={item.id}>\r\n//                             {item.full_name}\r\n//                           </option>\r\n//                         ))}\r\n//                       </select>\r\n//                     </div>\r\n//                   )}\r\n//                   {showMultiUser && (\r\n//                     <div className=\"mb-3\">\r\n//                       <label>Multiple Users</label>\r\n//                       <Select\r\n//                         isMulti\r\n//                         options={clientlist.map((item) => ({\r\n//                           value: item.id,\r\n//                           label: item.client_name,\r\n//                         }))}\r\n//                         className=\"basic-multi-select\"\r\n//                         classNamePrefix=\"select\"\r\n//                         onChange={(selectedOptions) => {\r\n//                           const selectedIds = selectedOptions.map(\r\n//                             (option) => option.value\r\n//                           );\r\n//                           setSelectedUsers(selectedIds);\r\n//                           setInpdata({\r\n//                             ...inpdata,\r\n//                             user_id: selectedIds.join(\",\"),\r\n//                           });\r\n//                         }}\r\n//                         value={clientlist\r\n//                           .filter((item) => selectedUsers.includes(item.id))\r\n//                           .map((item) => ({\r\n//                             value: item.id,\r\n//                             label: item.client_name,\r\n//                           }))}\r\n//                       />\r\n//                     </div>\r\n//                   )}\r\n\r\n//                   {showBatchUser && (\r\n//                     <>\r\n//                       <div className=\"mb-3\">\r\n//                         <label>Select Batch</label>\r\n//                         <select\r\n//                           className=\"form-control\"\r\n//                           onChange={handleBatchChange}\r\n//                         >\r\n//                           <option value=\"\">Select Batch</option>\r\n//                           {batchlist1.map((batch, i) => {\r\n//                             console.log(batch);\r\n//                             return (\r\n//                               <>\r\n//                                 <option key={i} value={batch.id}>\r\n//                                   {batch.batch_number}\r\n//                                 </option>\r\n//                               </>\r\n//                             );\r\n//                           })}\r\n//                         </select>\r\n//                       </div>\r\n//                       <div className=\"mb-3\">\r\n//                         <label>Users in Batch</label>\r\n//                         <ul>\r\n//                           {batchUserList.map((user) => (\r\n//                             <li key={user.id}>{user.client_name}</li>\r\n//                           ))}\r\n//                         </ul>\r\n//                       </div>\r\n//                     </>\r\n//                   )}\r\n\r\n//                   <div className=\"mb-3\">\r\n//                     <label>Title</label>\r\n//                     <input\r\n//                       type=\"text\"\r\n//                       name=\"title\"\r\n//                       ref={emailRef}\r\n//                       onChange={handlechange}\r\n//                       className=\"form-control\"\r\n//                     />\r\n//                     <p className=\"text-danger\">{error.title}</p>\r\n//                   </div>\r\n\r\n//                   <div className=\"mb-3\">\r\n//                     <label>Message</label>\r\n//                     <textarea\r\n//                       name=\"description\"\r\n//                       ref={messageRef}\r\n//                       onChange={handlechange}\r\n//                       className=\"form-control\"\r\n//                     />\r\n//                     <p className=\"text-danger\">{error.description}</p>\r\n//                   </div>\r\n//                 </div>\r\n//                 <div className=\"modal-footer\">\r\n//                   <button onClick={postdata} className=\"btn btn-primary\">\r\n//                     Send Notification\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//           {/* Modal End */}\r\n\r\n//           <div className=\"table-responsive mt-2\">\r\n//             <table className=\"table table-striped\">\r\n//               <thead>\r\n//                 <tr>\r\n//                   <th>Sr.No.</th>\r\n//                   <th>Title</th>\r\n//                   <th>Message</th>\r\n//                   <th>Date</th>\r\n//                   <th>Action</th>\r\n//                 </tr>\r\n//               </thead>\r\n//               <tbody>\r\n//                 {currentdata.map((item, index) => {\r\n//                   const date = new Date(item?.created_at);\r\n//                   const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n//                     day: \"numeric\",\r\n//                     month: \"long\",\r\n//                     year: \"numeric\",\r\n//                   });\r\n//                   return (\r\n//                     <tr key={item.id}>\r\n//                       <td>{startIndex + index + 1}</td>\r\n//                       <td>{item.title}</td>\r\n//                       <td>{item.description}</td>\r\n//                       <td>{formattedDate}</td>\r\n//                       <td>\r\n//                         <AiFillDelete\r\n//                           className=\"text-danger\"\r\n//                           style={{ cursor: \"pointer\" }}\r\n//                           onClick={() => handledelete(item.id)}\r\n//                         />\r\n//                       </td>\r\n//                     </tr>\r\n//                   );\r\n//                 })}\r\n//               </tbody>\r\n//             </table>\r\n//             <div className=\"d-flex justify-content-end align-items-center\">\r\n//               <button\r\n//                 disabled={currentPage === 1}\r\n//                 onClick={() => handlePageChange(currentPage - 1)}\r\n//                 className=\"bg_page\"\r\n//               >\r\n//                 &lt;\r\n//               </button>\r\n//               <span className=\"mx-2\">{`Page ${currentPage} of ${totalPage}`}</span>\r\n//               <button\r\n//                 disabled={currentPage === totalPage}\r\n//                 onClick={() => handlePageChange(currentPage + 1)}\r\n//                 className=\"bg_page\"\r\n//               >\r\n//                 &gt;\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//         <ToastContainer />\r\n//       </div>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default Notification;\r\nimport axios from \"axios\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport Swal from \"sweetalert2\";\r\nimport Select from \"react-select\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { Modal } from \"bootstrap\";\r\nconst pageSize = 10;\r\n\r\nconst Notification = () => {\r\n  const [data, setData] = useState([]);\r\n  const [inpdata, setInpdata] = useState({\r\n    send_to: \"\",\r\n    user_id: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n  });\r\n\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [showContent1, setShowContent1] = useState(false);\r\n  const [showMultiUser, setShowMultiUser] = useState(false);\r\n  const [showBatchUser, setShowBatchUser] = useState(false);\r\n  const [batchId, setBatchId] = useState(\"\");\r\n\r\n  const [clientlist, setClientlist] = useState([]);\r\n  const [stafflist, setStafflist] = useState([]);\r\n  const [batchlist1, setBatchlist1] = useState([]);\r\n  const [batchUserList, setBatchUserList] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [error, setError] = useState({});\r\n\r\n  const emailRef = useRef();\r\n    const titleRef = useRef();\r\n  const messageRef = useRef();\r\n  const selectRef = useRef();\r\n\r\n\r\n  const showdata = () => {\r\n    axios\r\n      .post(`${process.env.REACT_APP_BASE_URL}notification-list`)\r\n      .then((response) => {\r\n        setData(response.data.data);\r\n      });\r\n  };\r\n\r\n  const handledelete = (id) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .post(`${process.env.REACT_APP_BASE_URL}delete-notification`, {\r\n            notification_id: id,\r\n          })\r\n          .then((response) => {\r\n            toast.success(response.data.message);\r\n            showdata();\r\n          })\r\n          .catch((error) => {\r\n            toast.error(error.response.data.message);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handlechange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInpdata({ ...inpdata, [name]: value });\r\n\r\n    if (name === \"send_to\") {\r\n      setShowContent(value === \"4\");\r\n      setShowContent1(value === \"3\");\r\n      setShowMultiUser(value === \"5\");\r\n      setShowBatchUser(value === \"6\");\r\n\r\n      if (value === \"3\" || value === \"5\" || value === \"6\") {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BASE_URL}clientlist`)\r\n          .then((response) => {\r\n            setClientlist(response.data.data);\r\n          });\r\n      }\r\n      if (value === \"4\") {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BASE_URL}staff-list`)\r\n          .then((response) => {\r\n            setStafflist(response.data.data);\r\n          });\r\n      }\r\n      if (value === \"6\") {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BASE_URL}getBatchList`)\r\n          .then((response) => {\r\n            setBatchlist1(response.data.data);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBatchChange = (e) => {\r\n    const id = e.target.value;\r\n    setBatchId(id);\r\n\r\n    if (id) {\r\n      axios\r\n        .post(`${process.env.REACT_APP_BASE_URL}getClientByBatchId`, {\r\n          batch_id: id,\r\n        })\r\n        .then((response) => {\r\n          setBatchUserList(response.data.data);\r\n          const userIds = response.data.data.map((item) => item.id).join(\",\");\r\n          setInpdata({ ...inpdata, user_id: userIds });\r\n        })\r\n        .catch((error) => {\r\n      console.log(\"i\")\r\n          // toast.error(\"Failed to fetch users for the batch.\");\r\n        });\r\n    } else {\r\n      setBatchUserList([]);\r\n      setInpdata({ ...inpdata, user_id: \"\" });\r\n    }\r\n  };\r\n\r\n  const handelvalidate = (value) => {\r\n    let error = {};\r\n    if (!value.title) error.title = \"Title is required\";\r\n    if (!value.description) error.description = \"Description is required\";\r\n    if (!error.title && !error.description) {\r\n      apihit();\r\n    }\r\n    setError(error);\r\n  };\r\n\r\n  const postdata = () => {\r\n    handelvalidate(inpdata);\r\n  };\r\n\r\n  const apihit = () => {\r\n    const inpdata1 = {\r\n      send_to: inpdata.send_to,\r\n      batch_id: parseInt(batchId),\r\n      user_id: inpdata.user_id,\r\n      title: inpdata.title,\r\n      description: inpdata.description,\r\n    };\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_BASE_URL}send-notification`, inpdata1)\r\n      .then((response) => {\r\n        toast.success(response.data.message);\r\n         const modalEl = document.getElementById(\"exampleModal\");\r\nconst modalInstance = Modal.getOrCreateInstance(modalEl);\r\nmodalInstance.hide();\r\n\r\n// Clean up leftover backdrop manually\r\nsetTimeout(() => {\r\n  document.querySelectorAll(\".modal-backdrop\").forEach((el) => el.remove());\r\n  document.body.classList.remove(\"modal-open\");\r\n  document.body.style = \"\";\r\n}, 300); // wait for animation\r\n          if (titleRef.current) titleRef.current.value = \"\";\r\n    if (messageRef.current) messageRef.current.value = \"\";\r\n        setInpdata({\r\n          send_to: \"\",\r\n          user_id: \"\",\r\n          title: \"\",\r\n          description: \"\",\r\n        });\r\n        setSelectedUsers([]);\r\n        setShowContent(false);\r\n        setShowContent1(false);\r\n        setShowMultiUser(false);\r\n        setShowBatchUser(false);\r\n        setBatchId(\"\");\r\n        setBatchUserList([]);\r\n        showdata();\r\n          if (selectRef.current) selectRef.current.value = \"\";\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          toast.error(`Error: ${error.response.data.message || \"Server error\"}`);\r\n        } else {\r\n          toast.error(\"Network or request error.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  useEffect(() => {\r\n    showdata();\r\n    axios.get(`${process.env.REACT_APP_BASE_URL}getAllBatch`).then((response) => {\r\n      if (response.data.success) {\r\n        setBatchlist1(response.data.data);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const totalPage = Math.ceil(data.length / pageSize);\r\n  const startIndex = (currentPage - 1) * pageSize;\r\n  const currentdata = data.slice(startIndex, startIndex + pageSize);\r\n  return (\r\n    <>\r\n     <div className=\"wpWrapper\">\r\n        <div className=\"container-fluid\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <h4>Notification</h4>\r\n          <button data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" className=\"btn btn-primary\">\r\n            Send Notification\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\">\r\n          <div className=\"modal-dialog modal-dialog-centered\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Add Notification</h5>\r\n                <button className=\"btn-close\" data-bs-dismiss=\"modal\">\r\n                  <CloseIcon />\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div className=\"d-flex flex-wrap gap-3 mb-3\">\r\n                  {[\r\n                    { label: \"All User\", value: \"2\" },\r\n                    { label: \"All Staff\", value: \"1\" },\r\n                    { label: \"Particular User\", value: \"3\" },\r\n                    { label: \"Particular Staff\", value: \"4\" },\r\n                    { label: \"Multiple Users\", value: \"5\" },\r\n                    { label: \"Users by Batch\", value: \"6\" },\r\n                  ].map((opt) => (\r\n                    <label key={opt.value}>\r\n                      <input type=\"radio\" value={opt.value} name=\"send_to\" onChange={handlechange} /> {opt.label}\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n\r\n                {showContent1 && (\r\n                  <div className=\"mb-3\">\r\n                    <label>Particular User</label>\r\n                    <select name=\"user_id\" className=\"form-control\" onChange={handlechange}>\r\n                      <option value=\"\">Select...</option>\r\n                      {clientlist.map((item) => (\r\n                        <option key={item.id} value={item.id}>{item.client_name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n\r\n                {showContent && (\r\n                  <div className=\"mb-3\">\r\n                    <label>Particular Staff</label>\r\n                    <select name=\"user_id\" className=\"form-control\" onChange={handlechange}>\r\n                      <option value=\"\">Select...</option>\r\n                      {stafflist.map((item) => (\r\n                        <option key={item.id} value={item.id}>{item.full_name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n\r\n                {showMultiUser && (\r\n                  <div className=\"mb-3\">\r\n                    <label>Multiple Users</label>\r\n                    <Select\r\n                      isMulti\r\n                      options={clientlist.map((item) => ({\r\n                        value: item.id,\r\n                        label: item.client_name,\r\n                      }))}\r\n                      classNamePrefix=\"select\"\r\n                      onChange={(selectedOptions) => {\r\n                        const ids = selectedOptions.map((opt) => opt.value);\r\n                        setSelectedUsers(ids);\r\n                        setInpdata({ ...inpdata, user_id: ids.join(\",\") });\r\n                      }}\r\n                      value={clientlist\r\n                        .filter((item) => selectedUsers.includes(item.id))\r\n                        .map((item) => ({ value: item.id, label: item.client_name }))}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {showBatchUser && (\r\n                  <>\r\n                    <div className=\"mb-3\">\r\n                      <label>Select Batch</label>\r\n                      <select className=\"form-control\" onChange={handleBatchChange}>\r\n                        <option value=\"\">Select Batch</option>\r\n                        {batchlist1.map((batch) => (\r\n                          <option key={batch.id} value={batch.id}>{batch.batch_number}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <div className=\"mb-3\">\r\n                  <label>Title</label>\r\n                  <input type=\"text\" name=\"title\" className=\"form-control\" onChange={handlechange} ref={titleRef} />\r\n                  <p className=\"text-danger\">{error.title}</p>\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <label>Message</label>\r\n                  <textarea name=\"description\" className=\"form-control\" onChange={handlechange} ref={messageRef} />\r\n                  <p className=\"text-danger\">{error.description}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button onClick={postdata} className=\"btn btn-primary\">\r\n                  Send Notification\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Table */}\r\n        <div className=\"table-responsive mt-2\">\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Sr.No.</th>\r\n                  <th>Title</th>\r\n                  <th>Message</th>\r\n                  <th>Date</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentdata.map((item, index) => {\r\n                  const date = new Date(item?.created_at);\r\n                  const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n                    day: \"numeric\",\r\n                    month: \"long\",\r\n                    year: \"numeric\",\r\n                  });\r\n                  return (\r\n                    <tr key={item.id}>\r\n                      <td>{startIndex + index + 1}</td>\r\n                      <td>{item.title}</td>\r\n                      <td>{item.description}</td>\r\n                      <td>{formattedDate}</td>\r\n                      <td>\r\n                        <AiFillDelete\r\n                          className=\"text-danger\"\r\n                          style={{ cursor: \"pointer\" }}\r\n                          onClick={() => handledelete(item.id)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n\r\n          {/* Pagination */}\r\n           <div className=\"d-flex justify-content-end align-items-center\">\r\n              <button\r\n                disabled={currentPage === 1}\r\n                onClick={() => handlePageChange(currentPage - 1)}\r\n                className=\"bg_page\"\r\n              >\r\n                &lt;\r\n              </button>\r\n              <span className=\"mx-2\">{`Page ${currentPage} of ${totalPage}`}</span>\r\n              <button\r\n                disabled={currentPage === totalPage}\r\n                onClick={() => handlePageChange(currentPage + 1)}\r\n                className=\"bg_page\"\r\n              >\r\n                &gt;\r\n              </button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ToastContainer />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n"],"names":["Notification","data","setData","useState","inpdata","setInpdata","send_to","user_id","title","description","showContent","setShowContent","showContent1","setShowContent1","showMultiUser","setShowMultiUser","showBatchUser","setShowBatchUser","batchId","setBatchId","clientlist","setClientlist","stafflist","setStafflist","batchlist1","setBatchlist1","batchUserList","setBatchUserList","selectedUsers","setSelectedUsers","currentPage","setCurrentPage","error","setError","titleRef","useRef","messageRef","selectRef","showdata","axios","post","concat","process","then","response","handlechange","e","name","value","target","get","apihit","inpdata1","batch_id","parseInt","toast","success","message","modalEl","document","getElementById","Modal","getOrCreateInstance","hide","setTimeout","querySelectorAll","forEach","el","remove","body","classList","style","current","catch","handlePageChange","page","useEffect","totalPage","Math","ceil","length","startIndex","currentdata","slice","_jsx","_Fragment","children","_jsxs","className","id","tabIndex","CloseIcon","label","map","opt","type","onChange","item","client_name","full_name","Select","isMulti","options","classNamePrefix","selectedOptions","ids","join","filter","includes","userIds","console","log","batch","batch_number","ref","onClick","postdata","handelvalidate","index","formattedDate","Date","created_at","toLocaleDateString","day","month","year","AiFillDelete","cursor","handledelete","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","notification_id","disabled","ToastContainer"],"sourceRoot":""}