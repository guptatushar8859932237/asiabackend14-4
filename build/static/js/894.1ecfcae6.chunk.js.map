{"version":3,"file":"static/js/894.1ecfcae6.chunk.js","mappings":"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","sources":["components/profile/Profile.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { MyContext1 } from \"../../Context/MyContext\";\r\nexport default function Profile() {\r\n  const [data, setData] = useState({});\r\n  const{text,setText}=useContext(MyContext1)\r\n  const [profileImage, setProfileImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\nconst datauserId = JSON.parse(localStorage.getItem(\"data123\"))\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BASE_URL}get-profile-admin`, {\r\n        user_id: datauserId.id,\r\n      });\r\n      setData(response.data.data);\r\n    } catch (error) {\r\n      console.error(error.response?.data);\r\n      toast.error(\"Failed to fetch profile data\");\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n  const handlePostData = async () => {\r\n    try {\r\n      setLoading(true); \r\n      const formData = new FormData();\r\n      formData.append('profile', profileImage);\r\n      formData.append('full_name', data.full_name);\r\n      formData.append('email', data.email);\r\n      formData.append(\"id\",datauserId.id );\r\n      await axios.post(`${process.env.REACT_APP_BASE_URL}update-profile`, formData).then((response)=>{\r\n        setText(response.data.data[0].profile)\r\n      })\r\n          toast.success(\"Profile updated successfully\");\r\n      fetchData(); \r\n    } catch (error) {\r\n      console.error(error.response?.data);\r\n      toast.error(\"Failed to update profile\");\r\n    } finally {\r\n      setLoading(false); \r\n    }\r\n  };\r\n  const handleChangeFile = (e) => {\r\n    const file = e.target.files[0];\r\n    setProfileImage(file);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"wpWrapper\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                    <div className=\"\">\r\n                      <h4 className=\"freight_hd\">Profile </h4>\r\n                    </div>\r\n                    <div className=\"\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn up_btn\"\r\n                        data-bs-toggle=\"modal\"\r\n                        data-bs-target=\"#staticBackdrop\"\r\n                      >\r\n                        Update\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"modal fade\"\r\n                id=\"staticBackdrop\"\r\n                data-bs-backdrop=\"static\"\r\n                data-bs-keyboard=\"false\"\r\n                tabIndex={-1}\r\n                aria-labelledby=\"staticBackdropLabel\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <div className=\"modal-dialog\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">\r\n                        Update Profile\r\n                      </h1>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn-close\"\r\n                        data-bs-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"row mb-0\">\r\n                        <div className=\"profileImgAdmin mb-5 text-center\">\r\n                          <img\r\n                            src={`${process.env.REACT_APP_BASE_URL_image}${data.profile}`}\r\n                            name=\"profile\"\r\n                            style={{ width: \"130px\", height: \"130px\", borderRadius: \"50%\" }}\r\n                            alt=\"Profile\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"profileContent\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                              <input\r\n                                type=\"file\"\r\n                                name=\"profile\"\r\n                                onChange={handleChangeFile}\r\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-12\">\r\n                              <input\r\n                                value={data.full_name || \"\"}\r\n                                name=\"full_name\"\r\n                                onChange={handleChange}\r\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-12\">\r\n                              <input\r\n                                value={data.email || \"\"}\r\n                                name=\"email\"\r\n                                onChange={handleChange}\r\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"modal-footer\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-secondary\"\r\n                          data-bs-dismiss=\"modal\"\r\n                        >\r\n                          Close\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-primary\"\r\n                          onClick={handlePostData}\r\n                          disabled={loading} // Disable button during loading\r\n                        >\r\n                          {loading ? \"Saving...\" : \"Save Changes\"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-3\">\r\n                  <div className=\"pro_box1\">\r\n                    <div className=\"img_profile\">\r\n                      <img\r\n                        src={`${process.env.REACT_APP_BASE_URL_image}${text}`}\r\n                        className=\"pro_img\"\r\n                        alt=\"Profile\"\r\n                      />\r\n                    </div>\r\n                    <p className=\"img_para\">Profile Image</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-9\">\r\n                  <div className=\"pro_box\">\r\n                    <div className=\"profileContent\">\r\n                      <h4>Basic Information</h4>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-6\">\r\n                          <p><strong>Role:</strong> <span>{data.Role}</span></p>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                          <p><strong>Full Name:</strong> <span>{data.full_name}</span></p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-12\">\r\n                          <p><strong>Email:</strong> <span>{data.email}</span></p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div >\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["Profile","data","setData","useState","text","setText","useContext","MyContext1","profileImage","setProfileImage","loading","setLoading","useNavigate","useEffect","fetchData","datauserId","JSON","parse","localStorage","getItem","async","response","axios","post","concat","process","user_id","id","error","_error$response","console","toast","handleChange","e","name","value","target","_jsx","_Fragment","children","className","_jsxs","type","tabIndex","src","profile","style","width","height","borderRadius","alt","onChange","file","files","full_name","email","onClick","formData","FormData","append","then","success","_error$response2","disabled","Role"],"sourceRoot":""}