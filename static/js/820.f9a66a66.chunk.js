"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[820],{3820:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var l=s(7154),t=s(5043),i=s(5369),d=s(1434),c=s(6971),n=s(7503),r=s(64),o=s.n(r),m=s(579);const p=()=>{const[e,a]=(0,t.useState)({name:"",email:""}),[s,r]=(0,t.useState)(1),[p,h]=(0,t.useState)([]),[u,x]=(0,t.useState)(""),[b,j]=(0,t.useState)(!0),[g,N]=(0,t.useState)({}),[f,v]=(0,t.useState)([]),[y,C]=(0,t.useState)(""),S=((0,c.Zp)(),e=>{const{name:a,value:s}=e.target;h({...p,[a]:s})}),_=()=>{j(!0),l.A.post("".concat("https://sisccltd.com/api/","add-supplier"),p).then((e=>{n.oR.success(e.data.message),k(),h({name:"",email:""})})).catch((e=>{n.oR.error(e.response.data.message)})).finally((()=>{j(!1)}))},k=()=>{j(!0),l.A.get("".concat("https://sisccltd.com/api/","supplier-list")).then((e=>{v(e.data.data)})).catch((e=>{console.log(e.response.data.message)})).finally((()=>{j(!1)}))};(0,t.useEffect)((()=>{k()}),[]);const w=s=>{a({...e,[s.target.name]:s.target.value})},A=e=>{r(e)},B=f.filter((e=>e.name.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase()))),E=Math.ceil(B.length/6),R=6*(s-1),I=R+6,L=B.slice(R,I);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"wpWrapper",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"card ",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"row manageFreight",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"d-flex justify-content-between align-item-center",children:[(0,m.jsx)("div",{className:"",children:(0,m.jsx)("h4",{className:"freight_hd",children:"Add Supplier"})}),(0,m.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,m.jsx)("div",{className:"",children:(0,m.jsx)("input",{className:"px-2 py-1 rounded",placeholder:"Search",type:"text",value:y,onChange:e=>{C(e.target.value),r(1)}})}),(0,m.jsx)("div",{className:"ms-2",children:(0,m.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add"})})]})]})})}),(0,m.jsx)("div",{className:"modal fade modalBorder",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add Supplier"}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{children:"Name"}),(0,m.jsx)("input",{type:"text",onChange:S,name:"supplier_name",className:"form-control",id:"floatingInput1",placeholder:"name"})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{children:"Email"}),(0,m.jsx)("input",{type:"email",onChange:S,name:"supplier_email",className:"form-control",id:"floatingInput",placeholder:"tushar@gmail.com"}),(0,m.jsx)("p",{className:"text-danger mb-0",children:g.supplier_email})]})]}),(0,m.jsx)("div",{className:"modal-footer",children:(0,m.jsx)("button",{type:"button",onClick:()=>{(e=>{let a={};e.supplier_name||(n.oR.error("Supplier Name is required"),a.supplier_name="Supplier Name is required"),e.supplier_email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.supplier_email)?_():(n.oR.error("Supplier Email is invalid"),a.supplier_email="Supplier Email is invalid"):(n.oR.error("Supplier Email is required"),a.supplier_email="Supplier Email is required"),N(a)})(p)},className:"btn btn-primary",children:"Submit"})})]})})}),(0,m.jsx)("div",{className:"table-responsive mt-2",children:(0,m.jsxs)("table",{className:"table table-striped tableICon",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",children:"Sr.No."}),(0,m.jsx)("th",{scope:"col",children:"Client Name"}),(0,m.jsx)("th",{scope:"col",children:"Supplier Email"}),(0,m.jsx)("th",{scope:"col",children:"Action"})]})}),(0,m.jsx)("tbody",{style:{border:"none"},children:L&&L.length>0&&L.map(((s,t)=>(console.log(s),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("tr",{className:"border-bottom",children:[(0,m.jsx)("th",{children:R+t+1}),(0,m.jsx)("td",{children:s.name}),(0,m.jsx)("td",{children:s.email}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsxs)("div",{className:"ms-2",children:[(0,m.jsx)("button",{onClick:()=>{(e=>{x(e);const s=f.filter((a=>a.id===e))[0];a((e=>({...e,name:s.name,email:s.email})))})(s.id)},type:"button",className:"border-0","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:(0,m.jsx)(i.uO9,{style:{color:"#1b2245",margin:"10px"}})}),(0,m.jsx)("div",{className:"modal fade modalBorder",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:"Update Supplier"}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{children:"Name"}),(0,m.jsx)("input",{type:"text",name:"name",value:e.name,onChange:w,className:"form-control",id:"floatingInput1",placeholder:"name"})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{children:"Email"}),(0,m.jsx)("input",{type:"email",name:"email",value:e.email,onChange:w,className:"form-control",id:"floatingInput",placeholder:"tushar@gmail.com"})]})]}),(0,m.jsx)("div",{className:"modal-footer",children:(0,m.jsx)("button",{type:"button","data-bs-dismiss":"modal",onClick:()=>{(()=>{const a={supplier_email:e.email,supplier_id:u,supplier_name:e.name};l.A.post("".concat("https://sisccltd.com/api/","update-supplier"),a).then((e=>{n.oR.success(e.data.message),k()})).catch((e=>{console.log(e)}))})(s.id)},className:"btn btn-primary",children:"Update"})})]})})})]}),(0,m.jsx)("div",{className:"action_btn1",children:(0,m.jsx)(d.F23,{className:"text-danger",onClick:()=>{(async e=>{o().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((a=>{a.isConfirmed&&(l.A.post("".concat("https://sisccltd.com/api/","delete-supplier"),{supplier_id:e}).then((e=>{n.oR.success(e.data.message),k()})).catch((e=>{n.oR.error(e.response.data.message)})),o().fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}))}))})(s.id)},style:{cursor:"pointer"}})})]})})]},t)}))))})]})}),(0,m.jsxs)("div",{className:"text-center d-flex justify-content-end align-items-center",children:[(0,m.jsx)("button",{disabled:1===s,className:"bg_page",onClick:()=>A(s-1),children:(0,m.jsx)("i",{class:"fi fi-rr-angle-small-left page_icon"})}),(0,m.jsx)("span",{className:"mx-2",children:"Page ".concat(s," of ").concat(E)}),(0,m.jsx)("button",{disabled:s===E,className:"bg_page",onClick:()=>A(s+1),children:(0,m.jsx)("i",{class:"fi fi-rr-angle-small-right page_icon"})})]})]})})})}),(0,m.jsx)(n.N9,{})]})}}}]);
//# sourceMappingURL=820.f9a66a66.chunk.js.map