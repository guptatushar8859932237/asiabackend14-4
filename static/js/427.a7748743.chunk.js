"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[427],{8627:(e,i,s)=>{s.r(i),s.d(i,{default:()=>K});var a=s(5043),n=s(6971),t=s(1318),o=s(5369),c=s(9837),r=s(4193),d=s(7805);const l=s.p+"static/media/logoWhiteNew.dfea16d563968493e49d.png";var h=s(8515),m=s(5374),p=s(5704),u=s(2027),x=s(7916),j=s(2606),A=s(8459),g=s(8076),v=s(7365),f=s(9877),b=s(1688),N=s(2431),y=s(2441),k=s(376),C=s(1810),S=s(7109),w=s(587),R=s(342),O=s(9206),P=s(6594),_=s(6672),F=s(1071),I=s(7907),E=s(1337),M=s(5473),W=s(7199),B=s(579);const J=[{path:"/Admin/dashboard",name:"Dashboard",icon:(0,B.jsx)(A.A,{})},{path:"",name:"Enquiries",icon:(0,B.jsx)(I.A,{}),subRoutes:[{path:"/Admin/managefreight",name:"Freight by Admin",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/freight",name:"Freight by User",icon:(0,B.jsx)(o.x$1,{})},{path:"/Admin/custom-clearance-order",name:"Custom by Admin",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/Custom-clearence-byuser",name:"Custom by User",icon:(0,B.jsx)(o.x$1,{})},{path:"/Admin/query",name:"Query",icon:(0,B.jsx)(F.A,{})},{path:"/Admin/notifications",name:"Notifications",icon:(0,B.jsx)(R.A,{})}]},{path:"",name:"Manage Invoices",icon:(0,B.jsx)(W.A,{}),subRoutes:[{path:"/Admin/billing",name:"Invoices",icon:(0,B.jsx)(v.A,{})},{path:"/Admin/sageinvoice",name:"Sage Invoices",icon:(0,B.jsx)(o.x$1,{})},{path:"/Admin/cashbook",name:"Cashbook",icon:(0,B.jsx)(b.A,{})}]},{path:"",name:"Manage Freight",icon:(0,B.jsx)(g.A,{}),subRoutes:[{path:"/Admin/order",name:"Freight Orders",icon:(0,B.jsx)(b.A,{})},{path:"/Admin/manage-shipment",name:"Shipments",icon:(0,B.jsx)(C.A,{})}]},{path:"",name:"Custom Clearance",icon:(0,B.jsx)(f.A,{}),subRoutes:[{path:"/Admin/calculation-order",name:"Clearance Order",icon:(0,B.jsx)(b.A,{})},{path:"/Admin/google_drive",name:"Google drive",icon:(0,B.jsx)(b.A,{})}]},{path:"",name:"Batches",icon:(0,B.jsx)(x.A,{}),subRoutes:[{path:"/Admin/Batches",name:"Batches",icon:(0,B.jsx)(y.A,{})}]},{path:"",name:"Warehouse",icon:(0,B.jsx)(u.A,{}),subRoutes:[{path:"/Admin/WarehouseOrder",name:"Warehouse Order",icon:(0,B.jsx)(b.A,{})}]},{path:"",name:"Imports ",icon:(0,B.jsx)(S.A,{}),subRoutes:[{path:"/Admin/oploadfile",name:"Excel",icon:(0,B.jsx)(w.A,{})}]},{path:"/Admin/countryoforigin",name:"Country Of Origin",icon:(0,B.jsx)(k.A,{})},{path:"/Admin/manage-customer",name:"Manage Customers",icon:(0,B.jsx)(C.A,{})}],T={path:"",name:"User Control",icon:(0,B.jsx)(_.A,{}),subRoutes:[{path:"/Admin/manage-staff",name:"Manage Staff",icon:(0,B.jsx)(P.A,{})},{path:"/Admin/Warehouse",name:"Warehouse",icon:(0,B.jsx)(h.A,{})},{path:"/Admin/manage-supplier",name:"Manage Suppliers",icon:(0,B.jsx)(O.A,{})},{path:"/Admin/Notificaionstorage",name:"Files & Storage",icon:(0,B.jsx)(R.A,{})},{path:"/Admin/link",name:"Add Links",icon:(0,B.jsx)(m.A,{})},{path:"/Admin/term-conditions",name:"Terms and Conditions",icon:(0,B.jsx)(j.A,{})},{path:"/Admin/privacy-policy",name:"Privacy Policy",icon:(0,B.jsx)(N.A,{})}]},U=e=>{let{children:i}=e;const s=(0,n.Zp)(),[o,h]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),x=JSON.parse(localStorage.getItem("data123")).user_type,j=[...J];"1"===x&&j.push(T),(0,a.useEffect)((()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&h("true"===e)}),[]),(0,a.useEffect)((()=>{localStorage.setItem("sidebarOpen",o)}),[o]);const A={hidden:{width:0,opacity:0,transition:{duration:.5}},show:{opacity:1,width:"auto",transition:{duration:.5}}};return(0,B.jsxs)("div",{className:"main-container",children:[(0,B.jsxs)(c.P.div,{animate:{width:o?"300px":"45px",transition:{duration:.5,type:"spring",damping:10}},className:"sidebar",children:[(0,B.jsxs)("div",{className:"top_section",children:[(0,B.jsx)(r.N,{children:o&&(0,B.jsx)(c.P.h1,{variants:A,initial:"hidden",animate:"show",exit:"hidden",className:"logo",children:(0,B.jsx)("img",{src:l,alt:"this is image",style:{width:"150px"}})})}),(0,B.jsx)("div",{className:"bars",style:{borderRadius:"20px"},children:(0,B.jsx)(d.osA,{onClick:()=>h(!o),style:{fontSize:"2rem",cursor:"pointer"}})})]}),(0,B.jsx)("div",{className:"text-center",children:(0,B.jsx)("div",{children:(0,B.jsx)("button",{className:"search",style:{cursor:"pointer"},onClick:()=>{s("/Admin/Addfreight")},children:(0,B.jsxs)(r.N,{children:[(0,B.jsx)("span",{children:(0,B.jsx)(p.A,{})}),o&&(0,B.jsx)("p",{className:"addF",style:{cursor:"pointer"},children:"Add Freight"})]})})})}),(0,B.jsx)("section",{className:"routes",children:j.map(((e,i)=>e.subRoutes?(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"link dropdown-header",style:{cursor:"pointer"},onClick:()=>(e=>{u((i=>i===e?null:e))})(i),children:[(0,B.jsx)("div",{className:"icon ",children:e.icon}),(0,B.jsx)(r.N,{children:o&&(0,B.jsxs)(c.P.div,{variants:A,initial:"hidden",animate:"show",exit:"hidden",className:"link_text d-flex justify-content-between align-items-center",children:[(0,B.jsx)("span",{children:e.name}),m===i?(0,B.jsx)(M.A,{}):(0,B.jsx)(E.A,{})]})})]}),m===i&&(0,B.jsx)(c.P.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"sub_routes",children:e.subRoutes.map(((e,i)=>(0,B.jsxs)(t.k2,{to:e.path,className:e=>{let{isActive:i}=e;return i?"link active":"link"},style:{cursor:"pointer"},children:[(0,B.jsx)("div",{className:"icon ms-4",children:e.icon}),o&&(0,B.jsx)("div",{className:"link_text1 ",children:e.name})]},i)))})]},i):(0,B.jsxs)(t.k2,{to:e.path,className:e=>{let{isActive:i}=e;return i?"link active":"link"},children:[(0,B.jsx)("div",{className:"icon",children:e.icon}),(0,B.jsx)(r.N,{children:o&&(0,B.jsx)(c.P.div,{variants:A,initial:"hidden",animate:"show",exit:"hidden",className:"link_text",children:e.name})})]},i)))})]}),(0,B.jsx)(c.P.div,{animate:{width:o?"85%":"100%",transition:{duration:.5,type:"spring",damping:10}},className:"main_div",children:(0,B.jsx)("main",{children:i})})]})};var L=s(3296),Z=s(4063),$=s(1574),q=s(6990),z=s(4444),D=s(7154),G=s(7503),H=s(2989);const Q=()=>{var e;const i=(0,n.Zp)(),[s,t]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[r,d]=(0,a.useState)(0),[l,h]=(0,a.useState)({}),[m,p]=(0,a.useState)([]),{text:u,setText:x}=(0,a.useContext)(H.P),j=null===(e=JSON.parse(localStorage.getItem("data123")))||void 0===e?void 0:e.id;(0,a.useEffect)((()=>{j&&(A(),g(),v())}),[j]);const A=async()=>{try{const e=await D.A.post("".concat("https://sisccltd.com/api/","notification-users"),{user_id:j});c(e.data.data||[]),d(e.data.unseenCount||0)}catch(s){var e,i;G.oR.error((null===(e=s.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||"Failed to fetch notifications")}},g=async()=>{try{const e=await D.A.post("".concat("https://sisccltd.com/api/","get-profile-admin"),{user_id:j});p(e.data.data.profile),h(e.data.data||{})}catch(e){G.oR.error("Failed to fetch profile data")}},v=async()=>{try{await D.A.post("".concat("https://sisccltd.com/api/","notification-status"),{user_id:j})}catch(e){console.error("Failed to mark notifications as seen")}},f=()=>{i("/Admin/notifications")};return(0,B.jsxs)("header",{className:"header",style:{backgroundColor:"#f0f2f5"},children:[(0,B.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-4 pt-4",children:[(0,B.jsx)("div",{className:"",children:(0,B.jsxs)(L.A,{children:[(0,B.jsxs)(L.A.Toggle,{variant:"",id:"dropdown-basic",children:[(0,B.jsx)(z.A,{className:"fs-3"}),r>0&&(0,B.jsx)(Z.A,{bg:"danger",children:r})]}),(0,B.jsxs)(L.A.Menu,{className:"sidebar123 pt-0",children:[(0,B.jsx)("p",{className:" ps-3 notiHead mb-0 py-2",children:"Notifications"}),(0,B.jsx)("div",{className:"notificationScroll",children:o.length>0?o.map(((e,i)=>(0,B.jsx)("div",{className:"bg-light border-bottom notificationAsiaBack",onClick:f,children:(0,B.jsxs)(L.A.Item,{children:[(0,B.jsx)("h6",{className:"mt-2",children:e.title}),(0,B.jsx)("p",{className:"description",children:(0,B.jsx)("small",{children:e.description})})]})},i))):(0,B.jsx)("p",{className:"text-center",children:"No new notifications"})})]})]})}),(0,B.jsx)("div",{style:{width:"35px",height:"35px"},className:"me-5",children:(0,B.jsx)("img",{src:u?"".concat("https://sisccltd.com/images/").concat(u):"".concat("https://sisccltd.com/images/").concat(m),alt:"User Profile",id:"basic-button","aria-controls":s?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,onClick:e=>t(e.currentTarget),style:{cursor:"pointer",width:"100%",height:"100%",borderRadius:"50%"}})}),(0,B.jsxs)($.A,{id:"basic-menu",anchorEl:s,open:Boolean(s),onClose:()=>t(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,B.jsx)(q.A,{onClick:()=>{i("/Admin/profile"),t(null)},children:"Profile"}),(0,B.jsx)(q.A,{onClick:()=>{i("/Admin/changepassword"),t(null)},children:"Change Password"}),(0,B.jsx)(q.A,{onClick:()=>{localStorage.clear(),i("/"),t(null)},children:"Logout"})]})]}),(0,B.jsx)(G.N9,{})]})};function K(){const e=(0,n.Zp)();return(0,a.useEffect)((()=>{(async()=>{var i;const s=await(null===JSON||void 0===JSON?void 0:JSON.parse(null===(i=localStorage)||void 0===i?void 0:i.getItem("data123")));e(void 0===s||null===s?"/":"/Admin/dashboard")})()}),[]),(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(U,{children:[(0,B.jsx)(Q,{}),(0,B.jsx)(n.sv,{})]})})}}}]);
//# sourceMappingURL=427.a7748743.chunk.js.map