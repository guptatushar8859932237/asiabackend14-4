{"version":3,"file":"static/js/480.f8978b72.chunk.js","mappings":"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","sources":["pages/Notification.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport Swal from \"sweetalert2\";\r\nconst Notification = () => {\r\n  const [data, setData] = useState(\"\");\r\n  const [inpdata, setInpdata] = useState({\r\n    send_to: \"\", user_id: \"\", title: \"\", description: \"\"\r\n  });\r\n  const [showContent, setShowContent] = useState(false);\r\n  const [showContent1, setShowContent1] = useState(false);\r\n  const [clientlist, setClientlist] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [stafflist, setStafflist] = useState([]);\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const messageRef = useRef();\r\n\r\n  const handledelete = (id) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\"\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios.post(`${process.env.REACT_APP_BASE_URL}delete-notification`, { notification_id: id }).then((response) => {\r\n          toast.success(response.data.message);\r\n          showdata();\r\n        }).catch((error) => {\r\n          toast.error(error.response.data.message);\r\n        });\r\n        Swal.fire({\r\n          title: \"Deleted!\",\r\n          text: \"Your file has been deleted.\",\r\n          icon: \"success\"\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showdata = () => {\r\n    axios.post(`${process.env.REACT_APP_BASE_URL}notification-list`).then((response) => {\r\n      setData(response.data.data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    showdata();\r\n  }, []);\r\n\r\n  const handlechange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInpdata({ ...inpdata, [name]: value });\r\n    if (name === \"send_to\") {\r\n      setShowContent(value === \"4\");\r\n      setShowContent1(value === \"3\");\r\n    }\r\n  };\r\n\r\n  const handelvalidate = (value) => {\r\n    let error = {};\r\n    if (!value.title) {\r\n      error.title = \"Title is required\";\r\n    }\r\n    if (!value.description) {\r\n      error.description = \"Description is required\";\r\n    }\r\n    if (!error.title && !error.description) {\r\n      apihit();\r\n    }\r\n    setError(error);\r\n  };\r\n\r\n  const postdata = () => {\r\n    handelvalidate(inpdata);\r\n  };\r\n\r\n  const apihit = () => {\r\n    axios.post(`${process.env.REACT_APP_BASE_URL}send-notification`, inpdata).then((response) => {\r\n      toast.success(response.data.message);\r\n      nameRef.current.value = \"\";\r\n      emailRef.current.value = \"\";\r\n      messageRef.current.value = \"\";\r\n      showdata();\r\n    });\r\n  };\r\n\r\n  const handleclickshow = () => {\r\n    axios.get(`${process.env.REACT_APP_BASE_URL}staff-list`).then((response) => {\r\n      setStafflist(response.data.data);\r\n    });\r\n  };\r\n\r\n  const handleclickshow1 = () => {\r\n    axios.get(`${process.env.REACT_APP_BASE_URL}clientlist`).then((response) => {\r\n      setClientlist(response.data.data);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"wpWrapper\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"card \">\r\n            <div className=\"card-body\">\r\n              <div className=\"row manageFreight\">\r\n                <div className=\"col-12\">\r\n                  <div className='d-flex justify-content-between align-item-center'>\r\n                    <div className=\"\">\r\n                      <h4 className=\"freight_hd\">Notification</h4>\r\n                    </div>\r\n                    <div className=\"\">\r\n                      <button type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                        Send Notification\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal fade modalBorder\" id=\"exampleModal\" tabIndex={-1} aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add Notification</h5>\r\n                      <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <div>\r\n                          <input type=\"radio\" id=\"all_user\" value=\"2\" ref={nameRef} name=\"send_to\" onChange={handlechange} />\r\n                          <label for=\"all_user\" className=\"ms-1\">All User</label>\r\n                        </div>\r\n                        <div>\r\n                          <input type=\"radio\" id=\"All_Staff\" value=\"1\" name=\"send_to\" onChange={handlechange} />\r\n                          <label for=\"All_Staff\" className=\"ms-1\">All Staff</label>\r\n                        </div>\r\n                        <div>\r\n                          <input type=\"radio\" id=\"Particular_user\" value=\"3\" onClick={handleclickshow1} name=\"send_to\" onChange={handlechange} />\r\n                          <label for=\"Particular_user\" className=\"ms-1\">Particular User</label>\r\n                        </div>\r\n                        <div>\r\n                          <input type=\"radio\" id=\"Particular_staff\" value=\"4\" onClick={handleclickshow} name=\"send_to\" onChange={handlechange} />\r\n                          <label for=\"Particular_staff\" className=\"ms-1\">Particular Staff</label>\r\n                        </div>\r\n                      </div>\r\n                      {showContent1 && (\r\n                        <div>\r\n                          <label className=\"mt-3\">Particular User</label><br />\r\n                          <select name=\"user_id\" className=\"w-100 p-2 rounded\" onChange={handlechange}>\r\n                            <option className=\"ps-2\">Select...</option>\r\n                            {clientlist.length > 0 && clientlist.map((item, index) => (\r\n                              <option key={index} value={item.id}>{item.client_name}</option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n                      {showContent && (\r\n                        <div>\r\n                          <label className=\"mt-3\">Particular Staff</label><br />\r\n                          <select name=\"user_id\" className=\"w-100 p-2 border-1 rounded\" onChange={handlechange}>\r\n                            <option>Select...</option>\r\n                            {stafflist.length > 0 && stafflist.map((item, index) => (\r\n                              <option key={index} value={item.id}>{item.full_name}</option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <label>Title</label>\r\n                        <input type=\"text\" onChange={handlechange} ref={emailRef} name=\"title\" placeholder=\"Title\" className=\"form-control\" />\r\n                        <p className=\"text-danger\">{error.title}</p>\r\n                      </div>\r\n                      <div>\r\n                        <label>Message</label>\r\n                        <textarea type=\"text\" ref={messageRef} onChange={handlechange} placeholder=\"Message\" name=\"description\" className=\"form-control\" />\r\n                        <p className=\"text-danger mb-0\">{error.description}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <button type=\"button\" onClick={postdata} className=\"btn btn-primary\">\r\n                        Send Notification\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"table-responsive mt-2\">\r\n                <table className=\"table table-striped tableICon\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Sr.No.</th>\r\n                      <th scope=\"col\">Title</th>\r\n                      <th scope=\"col\">Message</th>\r\n                      <th scope=\"col\">Date</th>\r\n                      <th scope=\"col\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody style={{ border: \"none\" }}>\r\n                    {data.length > 0 && data.map((item, index) => {\r\n                      const date = new Date(item?.created_at);\r\n                      const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n                        day: \"numeric\",\r\n                        month: \"long\",\r\n                        year: \"numeric\"\r\n                      });\r\n                      return (\r\n                        <tr className=\"border-bottom\" key={index}>\r\n                          <th>{index + 1}</th>\r\n                          <td>{item.title}</td>\r\n                          <td>{item.description}</td>\r\n                          <td>{formattedDate}</td>\r\n                          <td>\r\n                            <div className=\"action_btn1\">\r\n                              <AiFillDelete className=\"text-danger\" onClick={() => handledelete(item.id)} style={{cursor:\"pointer\"}} />\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div >\r\n          <ToastContainer />\r\n        </div >\r\n      </div >\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n"],"names":["Notification","data","setData","useState","inpdata","setInpdata","send_to","user_id","title","description","showContent","setShowContent","showContent1","setShowContent1","clientlist","setClientlist","error","setError","stafflist","setStafflist","nameRef","useRef","emailRef","messageRef","showdata","axios","post","concat","process","then","response","useEffect","handlechange","e","name","value","target","apihit","toast","success","message","current","_jsx","_Fragment","children","className","_jsxs","type","id","tabIndex","ref","onChange","for","onClick","handleclickshow1","get","handleclickshow","length","map","item","index","client_name","full_name","placeholder","postdata","handelvalidate","scope","style","border","formattedDate","Date","created_at","toLocaleDateString","day","month","year","AiFillDelete","handledelete","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","notification_id","catch","cursor","ToastContainer"],"sourceRoot":""}